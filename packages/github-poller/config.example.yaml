# GitHub Poller Configuration Example
#
# Copy this file to config.yaml and update with your values

# GitHub Configuration
github:
  # GitHub personal access token (required)
  # Can use environment variable: ${GITHUB_TOKEN}
  token: ${GITHUB_TOKEN}

  # Polling interval in seconds (default: 60)
  pollInterval: 60

  # Whether to ignore events that occurred before the poller started (default: true)
  ignoreEventsBeforeStart: true

# NATS Configuration
nats:
  # NATS server URL (required)
  url: nats://localhost:4222

  # Maximum reconnection attempts (-1 for infinite, default: -1)
  maxReconnectAttempts: -1

  # Wait time between reconnection attempts in milliseconds (default: 2000)
  reconnectTimeWait: 2000

# Repositories to Monitor
# List of repositories in owner/repo format (required, at least one)
repositories:
  - apicurio/apicurio-registry
  - apicurio/apicurio-studio

# State Management
state:
  # Base path for state database (default: ./data/state)
  basePath: ./data/state

# Logging Configuration
logging:
  # Log level: trace, debug, info, warn, error, fatal (default: info)
  level: info

  # Enable pretty printing for development (default: true)
  # Set to false for production JSON output
  prettyPrint: true

  # Enable logging to file instead of stdout (default: false)
  logToFile: false

  # Application log file path (only used if logToFile is true)
  # Example: ./data/logs/github-poller.log
  filePath: ./data/logs/github-poller.log

  # Path for raw event JSON logs (default: ./data/events)
  eventsPath: ./data/events

  # Log retention in days - old logs will be automatically deleted (default: 30)
  retentionDays: 30
